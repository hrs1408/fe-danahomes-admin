<div class="video-block">
  <form nz-form>
    <nz-form-item>
      <nz-form-label>URL Video</nz-form-label>
      <nz-form-control>
        <input nz-input [ngModel]="block.url" (ngModelChange)="onUrlChange($event)" name="url" placeholder="Nhập URL video (YouTube, Vimeo, hoặc URL trực tiếp)">
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Tiêu đề</nz-form-label>
      <nz-form-control>
        <input nz-input [ngModel]="block.title" (ngModelChange)="onTitleChange($event)" name="title" placeholder="Nhập tiêu đề">
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Mô tả</nz-form-label>
      <nz-form-control>
        <textarea nz-input [ngModel]="block.description" (ngModelChange)="onDescriptionChange($event)" name="description" placeholder="Nhập mô tả" [nzAutosize]="{ minRows: 2, maxRows: 6 }"></textarea>
      </nz-form-control>
    </nz-form-item>

    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="12">
        <nz-form-item>
          <nz-form-control>
            <label nz-checkbox [ngModel]="block.autoplay" (ngModelChange)="onAutoplayChange($event)" name="autoplay">
              Tự động phát
            </label>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="12">
        <nz-form-item>
          <nz-form-control>
            <label nz-checkbox [ngModel]="block.controls" (ngModelChange)="onControlsChange($event)" name="controls">
              Hiển thị điều khiển
            </label>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <nz-form-item>
      <nz-form-label>Ảnh poster</nz-form-label>
      <nz-form-control>
        <input nz-input [ngModel]="block.poster" (ngModelChange)="onPosterChange($event)" name="poster" placeholder="Nhập URL ảnh poster">
      </nz-form-control>
    </nz-form-item>
  </form>

  <div class="video-preview" *ngIf="block.url">
    <div class="video-container">
      <video *ngIf="!block.url.includes('youtube.com') && !block.url.includes('vimeo.com')"
             [src]="block.url"
             [poster]="block.poster"
             [controls]="block.controls"
             [autoplay]="block.autoplay"
             class="video-player">
      </video>
      <iframe *ngIf="block.url.includes('youtube.com')"
              [src]="block.url | safe:'resourceUrl'"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              class="video-player">
      </iframe>
      <iframe *ngIf="block.url.includes('vimeo.com')"
              [src]="block.url | safe:'resourceUrl'"
              frameborder="0"
              allow="autoplay; fullscreen; picture-in-picture"
              allowfullscreen
              class="video-player">
      </iframe>
    </div>
  </div>
</div>
