<div class="tag-form-page">
  <div class="page-header">
    <div class="header-content">
      <h1>{{ isEdit ? 'Chỉnh sửa thẻ' : 'Thêm thẻ mới' }}</h1>
      <p class="description">{{ isEdit ? 'Cập nhật thông tin thẻ' : 'Tạo thẻ mới trong hệ thống' }}</p>
    </div>
  </div>

  <div class="form-container">
    <nz-card [nzLoading]="loading">
      <form nz-form [formGroup]="tagForm" (ngSubmit)="onSubmit()" [nzLayout]="'vertical'">
        <!-- Thông tin thẻ -->
        <div nz-row [nzGutter]="24">
          <div nz-col [nzXs]="24" [nzSm]="24" [nzMd]="12">
            <nz-form-item>
              <nz-form-label nzRequired>Tên thẻ</nz-form-label>
              <nz-form-control nzErrorTip="Vui lòng nhập tên thẻ!">
                <input nz-input formControlName="name" placeholder="Nhập tên thẻ" />
              </nz-form-control>
            </nz-form-item>
          </div>

          <div nz-col [nzXs]="24" [nzSm]="24" [nzMd]="12">
            <nz-form-item>
              <nz-form-label nzRequired>Slug</nz-form-label>
              <nz-form-control nzErrorTip="Vui lòng nhập slug!">
                <input nz-input formControlName="slug" placeholder="Nhập slug" />
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>

        <!-- Color Picker -->
        <nz-form-item>
          <nz-form-label nzRequired>Màu sắc</nz-form-label>
          <nz-form-control nzErrorTip="Vui lòng chọn màu sắc!">
            <div class="color-picker-container">
              <div class="color-preview" [style.background-color]="tagForm.get('color')?.value">
                <span class="color-value">{{ tagForm.get('color')?.value }}</span>
              </div>
              <input
                nz-input
                type="color"
                formControlName="color"
                class="color-input"
                [value]="tagForm.get('color')?.value"
              />
            </div>
          </nz-form-control>
        </nz-form-item>

        <!-- Buttons -->
        <div class="form-actions">
          <button nz-button
                  nzType="default"
                  type="button"
                  (click)="onCancel()">
            <i nz-icon nzType="close" nzTheme="outline"></i>
            Hủy
          </button>
          <button nz-button
                  nzType="primary"
                  type="submit"
                  [nzLoading]="loading">
            <i nz-icon [nzType]="isEdit ? 'save' : 'plus'" nzTheme="outline"></i>
            {{ isEdit ? 'Cập nhật' : 'Thêm mới' }}
          </button>
        </div>
      </form>
    </nz-card>
  </div>
</div>
